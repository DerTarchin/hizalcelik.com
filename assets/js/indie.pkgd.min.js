!function(){function e(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}function t(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function n(e,t){return a.call((t||document).querySelectorAll(e))}function i(){n("input.awesomplete").forEach(function(e){new o(e)})}var o=function(e,n){var i=this;Awesomplete.count=(Awesomplete.count||0)+1,this.count=Awesomplete.count,this.isOpened=!1,this.input=t(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),n=n||{},function(e,t,n){for(var i in t){var o=t[i],a=e.input.getAttribute("data-"+i.toLowerCase());"number"==typeof o?e[i]=parseInt(a):!1===o?e[i]=null!==a:o instanceof Function?e[i]=null:e[i]=a,e[i]||0===e[i]||(e[i]=i in n?n[i]:o)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:o.DATA,filter:o.FILTER_CONTAINS,sort:!1!==n.sort&&o.SORT_BYLENGTH,item:o.ITEM,replace:o.REPLACE},n),this.index=-1,this.container=t.create("div",{className:"awesomplete",around:e}),this.ul=t.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=t.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),i.select(t,e.target))}}}},t.bind(this.input,this._events.input),t.bind(this.input.form,this._events.form),t.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],o.all.push(this)};o.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&e.indexOf(",")>-1)this._list=e.split(/\s*,\s*/);else if((e=t(e))&&e.children){var n=[];a.apply(e.children).forEach(function(e){if(!e.disabled){var t=e.textContent.trim(),i=e.value||t,o=e.label||t;""!==i&&n.push({label:o,value:i})}}),this._list=n}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,t.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),t.fire(this.input,"awesomplete-open")},destroy:function(){t.unbind(this.input,this._events.input),t.unbind(this.input.form,this._events.form);var e=this.container.parentNode;e.insertBefore(this.input,this.container),e.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=o.all.indexOf(this);-1!==n&&o.all.splice(n,1)},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this.goto(this.selected&&-1!==t?t:e-1)},goto:function(e){var n=this.ul.children;this.selected&&n[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&n.length>0&&(n[e].setAttribute("aria-selected","true"),this.status.textContent=n[e].textContent+", list item "+(e+1)+" of "+n.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=n[e].offsetTop-this.ul.clientHeight+n[e].clientHeight,t.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,n){if(e?this.index=t.siblingIndex(e):e=this.ul.children[this.index],e){var i=this.suggestions[this.index];t.fire(this.input,"awesomplete-select",{text:i,origin:n||e})&&(this.replace(i),this.close({reason:"select"}),t.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var t=this,n=this.input.value;n.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(i){return new e(t.data(i,n))}).filter(function(e){return t.filter(e,n)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(e,i){t.ul.appendChild(t.item(e,n,i))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},o.all=[],o.FILTER_CONTAINS=function(e,n){return RegExp(t.regExpEscape(n.trim()),"i").test(e)},o.FILTER_STARTSWITH=function(e,n){return RegExp("^"+t.regExpEscape(n.trim()),"i").test(e)},o.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},o.ITEM=function(e,n,i){return t.create("li",{innerHTML:""===n.trim()?e:e.replace(RegExp(t.regExpEscape(n.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+i})},o.REPLACE=function(e){this.input.value=e.value},o.DATA=function(e){return e},Object.defineProperty(e.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),e.prototype.toString=e.prototype.valueOf=function(){return""+this.label};var a=Array.prototype.slice;t.create=function(e,n){var i=document.createElement(e);for(var o in n){var a=n[o];if("inside"===o)t(a).appendChild(i);else if("around"===o){var r=t(a);r.parentNode.insertBefore(i,r),i.appendChild(r)}else o in i?i[o]=a:i.setAttribute(o,a)}return i},t.bind=function(e,t){if(e)for(var n in t){var i=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,i)})}},t.unbind=function(e,t){if(e)for(var n in t){var i=t[n];n.split(/\s+/).forEach(function(t){e.removeEventListener(t,i)})}},t.fire=function(e,t,n){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0);for(var o in n)i[o]=n[o];return e.dispatchEvent(i)},t.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},t.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)),o.$=t,o.$$=n,"undefined"!=typeof self&&(self.Awesomplete=o),"object"==typeof module&&module.exports&&(module.exports=o)}(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(n.isOldIOSPhone=!0)}var r=i.match(/Android\s([0-9\.]*)/),s=r?r[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,u,c=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],p=0;p<4;p++){t=d[p];for(var m=0;m<3;m++)l=c[m],u=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&u in e&&(n[l]=u);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),i=window.setTimeout(function(){e(t+n)},n);return f=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var a=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(r,i);var s,l,u,c,d,p,m,f,h,v,g,x,y,w,b,C,I,_,T,E,A,S,D,O,M,k,F,z,R,L,N,P,Z,$,H,W,K,U,B,q,Y,G,V,X,j,J,Q,ee,te,ne,ie,oe,ae,re,se,le,ue={x:0,y:0},ce={x:0,y:0},de={x:0,y:0},pe={},me=0,fe={},he={x:0,y:0},ve=0,ge=!0,xe=[],ye={},we=!1,be=function(e,t){o.extend(a,t.publicMethods),xe.push(e)},Ce=function(e){var t=Ht();return e>t-1?e-t:e<0?t+e:e},Ie={},_e=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},Te=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(a,n)}},Ee=function(){return(new Date).getTime()},Ae=function(e){re=e,a.bg.style.opacity=e*r.bgOpacity},Se=function(e,t,n,i,o){(!we||o&&o!==a.currItem)&&(i/=o?o.fitRatio:a.currItem.fitRatio),e[S]=x+t+"px, "+n+"px"+y+" scale("+i+")"},De=function(e){te&&(e&&(v>a.currItem.fitRatio?we||(Xt(a.currItem,!1,!0),we=!0):we&&(Xt(a.currItem),we=!1)),Se(te,de.x,de.y,v))},Oe=function(e){e.container&&Se(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Me=function(e,t){t[S]=x+e+"px, 0px"+y},ke=function(e,t){if(!r.loop&&t){var n=c+(he.x*me-e)/he.x,i=Math.round(e-ct.x);(n<0&&i>0||n>=Ht()-1&&i<0)&&(e=ct.x+i*r.mainScrollEndFriction)}ct.x=e,Me(e,d)},Fe=function(e,t){var n=dt[e]-fe[e];return ce[e]+ue[e]+n-n*(t/g)},ze=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Re=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Le=null,Ne=function(){Le&&(o.unbind(document,"mousemove",Ne),o.addClass(e,"pswp--has_mouse"),r.mouseUsed=!0,Te("mouseUsed")),Le=setTimeout(function(){Le=null},100)},Pe=function(e,t){var n=qt(a.currItem,pe,e);return t&&(ee=n),n},Ze=function(e){return e||(e=a.currItem),e.initialZoomLevel},$e=function(e){return e||(e=a.currItem),e.w>0?r.maxSpreadZoom:1},He=function(e,t,n,i){return i===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Fe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},We=function(e){var t="";r.escKey&&27===e.keyCode?t="close":r.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ke=function(e){e&&(G||Y||ne||K)&&(e.preventDefault(),e.stopPropagation())},Ue=function(){a.setScrollOffset(0,o.getScrollY())},Be={},qe=0,Ye=function(e){Be[e]&&(Be[e].raf&&k(Be[e].raf),qe--,delete Be[e])},Ge=function(e){Be[e]&&Ye(e),Be[e]||(qe++,Be[e]={})},Ve=function(){for(var e in Be)Be.hasOwnProperty(e)&&Ye(e)},Xe=function(e,t,n,i,o,a,r){var s,l=Ee();Ge(e);var u=function(){if(Be[e]){if((s=Ee()-l)>=i)return Ye(e),a(n),void(r&&r());a((n-t)*o(s/i)+t),Be[e].raf=M(u)}};u()},je={shout:Te,listen:_e,viewportSize:pe,options:r,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return v},getCurrentIndex:function(){return c},isDragging:function(){return B},isZooming:function(){return J},setScrollOffset:function(e,t){fe.x=e,L=fe.y=t,Te("updateScrollOffset",fe)},applyZoomPan:function(e,t,n,i){de.x=t,de.y=n,v=e,De(i)},init:function(){if(!s&&!l){var n;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),F=e.className,s=!0,N=o.detectFeatures(),M=N.raf,k=N.caf,S=N.transform,R=N.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),d=a.container.style,a.itemHolders=C=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],C[0].el.style.display=C[2].el.style.display="none",function(){if(S){var t=N.perspective&&!O;return x="translate"+(t?"3d(":"("),void(y=N.perspective?", 0px)":")")}S="left",o.addClass(e,"pswp--ie"),Me=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},De=function(){if(te){var e=te,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=de.x+"px",e.top=de.y+"px"}}}(),h={resize:a.updateSize,orientationchange:function(){clearTimeout(P),P=setTimeout(function(){pe.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:Ue,keydown:We,click:Ke};var i=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!i||(r.showAnimationDuration=r.hideAnimationDuration=0),n=0;n<xe.length;n++)a["init"+xe[n]]();t&&(a.ui=new t(a,o)).init(),Te("firstUpdate"),c=c||r.index||0,(isNaN(c)||c<0||c>=Ht())&&(c=0),a.currItem=$t(c),(N.isOldIOSPhone||N.isOldAndroid)&&(ge=!1),e.setAttribute("aria-hidden","false"),r.modal&&(ge?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===L&&(Te("initialLayout"),L=z=o.getScrollY());var u="pswp--open ";for(r.mainClass&&(u+=r.mainClass+" "),r.showHideOpacity&&(u+="pswp--animate_opacity "),u+=O?"pswp--touch":"pswp--notouch",u+=N.animationName?" pswp--css_animation":"",u+=N.svg?" pswp--svg":"",o.addClass(e,u),a.updateSize(),p=-1,ve=null,n=0;n<3;n++)Me((n+p)*he.x,C[n].el.style);R||o.bind(a.scrollWrap,f,a),_e("initialZoomInEnd",function(){a.setContent(C[0],c-1),a.setContent(C[2],c+1),C[0].el.style.display=C[2].el.style.display="block",r.focus&&e.focus(),o.bind(document,"keydown",a),N.transform&&o.bind(a.scrollWrap,"click",a),r.mouseUsed||o.bind(document,"mousemove",Ne),o.bind(window,"resize scroll orientationchange",a),Te("bindEvents")}),a.setContent(C[1],c),a.updateCurrItem(),Te("afterInit"),ge||(w=setInterval(function(){qe||B||J||v!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,Te("close"),o.unbind(window,"resize scroll orientationchange",a),o.unbind(window,"scroll",h.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Ne),N.transform&&o.unbind(a.scrollWrap,"click",a),B&&o.unbind(window,m,a),clearTimeout(P),Te("unbindEvents"),Wt(a.currItem,null,!0,a.destroy))},destroy:function(){Te("destroy"),Lt&&clearTimeout(Lt),e.setAttribute("aria-hidden","true"),e.className=F,w&&clearInterval(w),o.unbind(a.scrollWrap,f,a),o.unbind(window,"scroll",a),ft(),Ve(),Ie=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),de.x=e,de.y=t,De()},handleEvent:function(e){e=e||window.event,h[e.type]&&h[e.type](e)},goTo:function(e){var t=(e=Ce(e))-c;ve=t,c=e,a.currItem=$t(c),me-=t,ke(he.x*me),Ve(),ne=!1,a.updateCurrItem()},next:function(){a.goTo(c+1)},prev:function(){a.goTo(c-1)},updateCurrZoomItem:function(e){if(e&&Te("beforeChange",0),C[1].el.children.length){var t=C[1].el.children[0];te=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=a.currItem.bounds,g=v=a.currItem.initialZoomLevel,de.x=ee.center.x,de.y=ee.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)C[e].item&&(C[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ve){var t,n=Math.abs(ve);if(!(e&&n<2)){a.currItem=$t(c),we=!1,Te("beforeChange",ve),n>=3&&(p+=ve+(ve>0?-3:3),n=3);for(var i=0;i<n;i++)ve>0?(t=C.shift(),C[2]=t,p++,Me((p+2)*he.x,t.el.style),a.setContent(t,c-n+i+1+1)):(t=C.pop(),C.unshift(t),p--,Me(p*he.x,t.el.style),a.setContent(t,c+n-i-1-1));if(te&&1===Math.abs(ve)){var o=$t(I);o.initialZoomLevel!==v&&(qt(o,pe),Xt(o),Oe(o))}ve=0,a.updateCurrZoomItem(),I=c,Te("afterChange")}}},updateSize:function(t){if(!ge&&r.modal){var n=o.getScrollY();if(L!==n&&(e.style.top=n+"px",L=n),!t&&ye.x===window.innerWidth&&ye.y===window.innerHeight)return;ye.x=window.innerWidth,ye.y=window.innerHeight,e.style.height=ye.y+"px"}if(pe.x=a.scrollWrap.clientWidth,pe.y=a.scrollWrap.clientHeight,Ue(),he.x=pe.x+Math.round(pe.x*r.spacing),he.y=pe.y,ke(he.x*me),Te("beforeResize"),void 0!==p){for(var i,s,l,u=0;u<3;u++)i=C[u],Me((u+p)*he.x,i.el.style),l=c+u-1,r.loop&&Ht()>2&&(l=Ce(l)),s=$t(l),s&&(b||s.needsUpdate||!s.bounds)?(a.cleanSlide(s),a.setContent(i,l),1===u&&(a.currItem=s,a.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===i.index&&l>=0&&a.setContent(i,l),s&&s.container&&(qt(s,pe),Xt(s),Oe(s));b=!1}g=v=a.currItem.initialZoomLevel,(ee=a.currItem.bounds)&&(de.x=ee.center.x,de.y=ee.center.y,De(!0)),Te("resize")},zoomTo:function(e,t,n,i,a){t&&(g=v,dt.x=Math.abs(t.x)-de.x,dt.y=Math.abs(t.y)-de.y,ze(ce,de));var r=Pe(e,!1),s={};He("x",r,s,e),He("y",r,s,e);var l=v,u=de.x,c=de.y;Re(s);var d=function(t){1===t?(v=e,de.x=s.x,de.y=s.y):(v=(e-l)*t+l,de.x=(s.x-u)*t+u,de.y=(s.y-c)*t+c),a&&a(t),De(1===t)};n?Xe("customZoomTo",0,1,n,i||o.easing.sine.inOut,d):d(1)}},Je={},Qe={},et={},tt={},nt={},it=[],ot={},at=[],rt={},st=0,lt={x:0,y:0},ut=0,ct={x:0,y:0},dt={x:0,y:0},pt={x:0,y:0},mt=function(e,t){return rt.x=Math.abs(e.x-t.x),rt.y=Math.abs(e.y-t.y),Math.sqrt(rt.x*rt.x+rt.y*rt.y)},ft=function(){V&&(k(V),V=null)},ht=function(){B&&(V=M(ht),Dt())},vt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:vt(e.parentNode,t))},gt={},xt=function(e,t){return gt.prevent=!vt(e.target,r.isClickableElement),Te("preventDragEvent",e,t,gt),gt.prevent},yt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},bt=function(){var e=de.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},Ct={},It={},_t=[],Tt=function(e){for(;_t.length>0;)_t.pop();return D?(le=0,it.forEach(function(e){0===le?_t[0]=e:1===le&&(_t[1]=e),le++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(_t[0]=yt(e.touches[0],Ct),e.touches.length>1&&(_t[1]=yt(e.touches[1],It))):(Ct.x=e.pageX,Ct.y=e.pageY,Ct.id="",_t[0]=Ct),_t},Et=function(e,t){var n,i,o,s,l=de[e]+t[e],u=t[e]>0,c=ct.x+t.x,d=ct.x-ot.x;return n=l>ee.min[e]||l<ee.max[e]?r.panEndFriction:1,l=de[e]+t[e]*n,!r.allowPanToNext&&v!==a.currItem.initialZoomLevel||(te?"h"!==ie||"x"!==e||Y||(u?(l>ee.min[e]&&(n=r.panEndFriction,ee.min[e],i=ee.min[e]-ce[e]),(i<=0||d<0)&&Ht()>1?(s=c,d<0&&c>ot.x&&(s=ot.x)):ee.min.x!==ee.max.x&&(o=l)):(l<ee.max[e]&&(n=r.panEndFriction,ee.max[e],i=ce[e]-ee.max[e]),(i<=0||d>0)&&Ht()>1?(s=c,d>0&&c<ot.x&&(s=ot.x)):ee.min.x!==ee.max.x&&(o=l))):s=c,"x"!==e)?void(ne||X||v>a.currItem.fitRatio&&(de[e]+=t[e]*n)):(void 0!==s&&(ke(s,!0),X=s!==ot.x),ee.min.x!==ee.max.x&&(void 0!==o?de.x=o:X||(de.x+=t.x*n)),void 0!==s)},At=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Zt)return void e.preventDefault();if(!U||"mousedown"!==e.type){if(xt(e,!0)&&e.preventDefault(),Te("pointerDown"),D){var t=o.arraySearch(it,e.pointerId,"id");t<0&&(t=it.length),it[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Tt(e),i=n.length;j=null,Ve(),B&&1!==i||(B=oe=!0,o.bind(window,m,a),W=se=ae=K=X=G=q=Y=!1,ie=null,Te("firstTouchStart",n),ze(ce,de),ue.x=ue.y=0,ze(tt,n[0]),ze(nt,tt),ot.x=he.x*me,at=[{x:tt.x,y:tt.y}],$=Z=Ee(),Pe(v,!0),ft(),ht()),!J&&i>1&&!ne&&!X&&(g=v,Y=!1,J=q=!0,ue.y=ue.x=0,ze(ce,de),ze(Je,n[0]),ze(Qe,n[1]),wt(Je,Qe,pt),dt.x=Math.abs(pt.x)-de.x,dt.y=Math.abs(pt.y)-de.y,Q=mt(Je,Qe))}}},St=function(e){if(e.preventDefault(),D){var t=o.arraySearch(it,e.pointerId,"id");if(t>-1){var n=it[t];n.x=e.pageX,n.y=e.pageY}}if(B){var i=Tt(e);if(ie||G||J)j=i;else if(ct.x!==he.x*me)ie="h";else{var a=Math.abs(i[0].x-tt.x)-Math.abs(i[0].y-tt.y);Math.abs(a)>=10&&(ie=a>0?"h":"v",j=i)}}},Dt=function(){if(j){var e=j.length;if(0!==e)if(ze(Je,j[0]),et.x=Je.x-tt.x,et.y=Je.y-tt.y,J&&e>1){if(tt.x=Je.x,tt.y=Je.y,!et.x&&!et.y&&(c=j[1],d=Qe,c.x===d.x&&c.y===d.y))return;ze(Qe,j[1]),Y||(Y=!0,Te("zoomGestureStarted"));var t=mt(Je,Qe),n=zt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(se=!0);var i=1,o=Ze(),s=$e();if(n<o)if(r.pinchToClose&&!se&&g<=a.currItem.initialZoomLevel){var l=1-(o-n)/(o/1.2);Ae(l),Te("onPinchClose",l),ae=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>s&&(i=(n-s)/(6*o),i>1&&(i=1),n=s+i*o);i<0&&(i=0),wt(Je,Qe,lt),ue.x+=lt.x-pt.x,ue.y+=lt.y-pt.y,ze(pt,lt),de.x=Fe("x",n),de.y=Fe("y",n),W=n>v,v=n,De()}else{if(!ie)return;if(oe&&(oe=!1,Math.abs(et.x)>=10&&(et.x-=j[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=j[0].y-nt.y)),tt.x=Je.x,tt.y=Je.y,0===et.x&&0===et.y)return;if("v"===ie&&r.closeOnVerticalDrag&&"fit"===r.scaleMode&&v===a.currItem.initialZoomLevel){ue.y+=et.y,de.y+=et.y;var u=bt();return K=!0,Te("onVerticalDrag",u),Ae(u),void De()}(function(e,t,n){if(e-$>50){var i=at.length>2?at.shift():{};i.x=t,i.y=n,at.push(i),$=e}})(Ee(),Je.x,Je.y),G=!0,ee=a.currItem.bounds,Et("x",et)||(Et("y",et),Re(de),De())}}var c,d},Ot=function(e){if(N.isOldAndroid){if(U&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}var t;if(Te("pointerUp"),xt(e,!1)&&e.preventDefault(),D){var n=o.arraySearch(it,e.pointerId,"id");n>-1&&(t=it.splice(n,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")))}var i,s=Tt(e),l=s.length;if("mouseup"===e.type&&(l=0),2===l)return j=null,!0;1===l&&ze(nt,s[0]),0!==l||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,t));var u=-1;if(0===l&&(B=!1,o.unbind(window,m,a),ft(),J?u=0:-1!==ut&&(u=Ee()-ut)),ut=1===l?Ee():-1,i=-1!==u&&u<150?"zoom":"swipe",J&&l<2&&(J=!1,1===l&&(i="zoomPointerUp"),Te("zoomGestureEnded")),j=null,G||Y||ne||K)if(Ve(),H||(H=Mt()),H.calculateSwipeSpeed("x"),K)if(bt()<r.verticalDragRange)a.close();else{var c=de.y,d=re;Xe("verticalDrag",0,1,300,o.easing.cubic.out,function(e){de.y=(a.currItem.initialPosition.y-c)*e+c,Ae((1-d)*e+d),De()}),Te("onVerticalDrag",1)}else{if((X||ne)&&0===l){if(Ft(i,H))return;i="zoomPointerUp"}if(!ne)return"swipe"!==i?void Rt():void(!X&&v>a.currItem.fitRatio&&kt(H))}},Mt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){at.length>1?(e=Ee()-$+50,t=at[at.length-2][i]):(e=Ee()-Z,t=nt[i]),n.lastFlickOffset[i]=tt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(de[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:de[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Xe("bounceZoomPan"+e,de[e],n.backAnimDestination[e],t||300,o.easing.sine.out,function(t){de[e]=t,De()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,de[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Be.zoomPan&&(Be.zoomPan.raf=M(n.panAnimLoop),n.now=Ee(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),De(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return de.x=Math.round(de.x),de.y=Math.round(de.y),De(),void Ye("zoomPan")}};return n},kt=function(e){return e.calculateSwipeSpeed("y"),ee=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ge("zoomPan"),e.lastNow=Ee(),void e.panAnimLoop())},Ft=function(e,t){var n,i,s;if(ne||(st=c),"swipe"===e){var l=tt.x-nt.x,u=t.lastFlickDist.x<10;l>30&&(u||t.lastFlickOffset.x>20)?i=-1:l<-30&&(u||t.lastFlickOffset.x<-20)&&(i=1)}i&&((c+=i)<0?(c=r.loop?Ht()-1:0,s=!0):c>=Ht()&&(c=r.loop?0:Ht()-1,s=!0),s&&!r.loop||(ve+=i,me-=i,n=!0));var d,p=he.x*me,m=Math.abs(p-ct.x);return n||p>ct.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,st===c&&(n=!1),ne=!0,Te("mainScrollAnimStart"),Xe("mainScroll",ct.x,p,d,o.easing.cubic.out,ke,function(){Ve(),ne=!1,st=-1,(n||st!==c)&&a.updateCurrItem(),Te("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},zt=function(e){return 1/Q*e*g},Rt=function(){var e=v,t=Ze(),n=$e();v<t?e=t:v>n&&(e=n);var i,r=re;return ae&&!W&&!se&&v<t?(a.close(),!0):(ae&&(i=function(e){Ae((1-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};be("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){_=e+t,T=e+n,E=e+i,A=o?e+o:""};(D=N.pointerEvent)&&N.touch&&(N.touch=!1),D?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):N.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),m=T+" "+E+" "+A,f=_,D&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=O,h[_]=At,h[T]=St,h[E]=Ot,A&&(h[A]=h[E]),N.touch&&(f+=" mousedown",m+=" mousemove mouseup",h.mousedown=h[_],h.mousemove=h[T],h.mouseup=h[E]),O||(r.allowPanToNext=!1)}}});var Lt,Nt,Pt,Zt,$t,Ht,Wt=function(t,n,i,s){var l;Lt&&clearTimeout(Lt),Zt=!0,Pt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=r.getThumbBoundsFn&&r.getThumbBoundsFn(c);var d,p,m=i?r.hideAnimationDuration:r.showAnimationDuration,f=function(){Ye("initialZoom"),i?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Ae(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Te("initialZoom"+(i?"OutEnd":"InEnd"))),s&&s(),Zt=!1};if(!m||!l||void 0===l.x)return Te("initialZoom"+(i?"Out":"In")),v=t.initialZoomLevel,ze(de,t.initialPosition),De(),e.style.opacity=i?0:1,Ae(1),void(m?setTimeout(function(){f()},m):f());d=u,p=!a.currItem.src||a.currItem.loadError||r.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(v=l.w/t.w,de.x=l.x,de.y=l.y-z,a[p?"template":"bg"].style.opacity=.001,De()),Ge("initialZoom"),i&&!d&&o.removeClass(e,"pswp--animated-in"),p&&(i?o[(d?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Lt=setTimeout(function(){if(Te("initialZoom"+(i?"Out":"In")),i){var n=l.w/t.w,a=de.x,r=de.y,s=v,u=re,c=function(t){1===t?(v=n,de.x=l.x,de.y=l.y-L):(v=(n-s)*t+s,de.x=(l.x-a)*t+a,de.y=(l.y-L-r)*t+r),De(),p?e.style.opacity=1-t:Ae(u-t*u)};d?Xe("initialZoom",0,1,m,o.easing.cubic.out,c,f):(c(1),Lt=setTimeout(f,m+20))}else v=t.initialZoomLevel,ze(de,t.initialPosition),De(),Ae(1),p?e.style.opacity=1:Ae(1),Lt=setTimeout(f,m+20)},i?25:90)},Kt={},Ut=[],Bt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Nt.length}},qt=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),Kt.x=t.x,Kt.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=Kt.x/e.w,a=Kt.y/e.h;e.fitRatio=o<a?o:a;var s=r.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return l=e,u=e.w*n,c=e.h*n,(d=l.bounds).center.x=Math.round((Kt.x-u)/2),d.center.y=Math.round((Kt.y-c)/2)+l.vGap.top,d.max.x=u>Kt.x?Math.round(Kt.x-u):d.center.x,d.max.y=c>Kt.y?Math.round(Kt.y-c)+l.vGap.top:d.center.y,d.min.x=u>Kt.x?0:d.center.x,d.min.y=c>Kt.y?l.vGap.top:d.center.y,i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}var l,u,c,d;return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Yt=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,Xt(t,i,t===a.currItem&&we),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Gt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Vt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=r.errorMsg.replace("%url%",e.src),!0},Xt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},jt=function(){if(Ut.length){for(var e,t=0;t<Ut.length;t++)e=Ut[t],e.holder.index===e.index&&Yt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Ut=[]}};be("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ce(e);var t=$t(e);t&&(!t.loaded&&!t.loading||b)&&(Te("gettingData",e,t),t.src&&Gt(t))},initController:function(){o.extend(r,Bt,!0),a.items=Nt=n,$t=a.getItemAt,Ht=r.getNumItemsFn,r.loop,Ht()<3&&(r.loop=!1),_e("beforeChange",function(e){var t,n=r.preload,i=null===e||e>=0,o=Math.min(n[0],Ht()),s=Math.min(n[1],Ht());for(t=1;t<=(i?s:o);t++)a.lazyLoadItem(c+t);for(t=1;t<=(i?o:s);t++)a.lazyLoadItem(c-t)}),_e("initialLayout",function(){a.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(c)}),_e("mainScrollAnimComplete",jt),_e("initialZoomInEnd",jt),_e("destroy",function(){for(var e,t=0;t<Nt.length;t++)e=Nt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Ut=null})},getItemAt:function(e){return e>=0&&void 0!==Nt[e]&&Nt[e]},allowProgressiveImg:function(){return r.forceProgressiveLoading||!O||r.mouseUsed||screen.width>1200},setContent:function(e,t){r.loop&&(t=Ce(t));var n=a.getItemAt(e.index);n&&(n.container=null);var i,l=a.getItemAt(t);if(l){Te("gettingData",t,l),e.index=t,e.item=l;var u=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?u.appendChild(l.html):u.innerHTML=l.html),Vt(l),qt(l,pe),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&(i=o.createEl("pswp__img","img"),i.style.opacity=1,i.src=l.src,Xt(l,i),Yt(0,l,u,i));else{if(l.loadComplete=function(n){if(s){if(e&&e.index===t){if(Vt(n,!0))return n.loadComplete=n.img=null,qt(n,pe),Oe(n),void(e.index===c&&a.updateCurrZoomItem());n.imageAppended?!Zt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):N.transform&&(ne||Zt)?Ut.push({item:n,baseDiv:u,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Yt(0,n,u,n.img,0,!0)}n.loadComplete=null,n.img=null,Te("imageLoadComplete",t,n)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var p=o.createEl(d,l.msrc?"img":"");l.msrc&&(p.src=l.msrc),Xt(l,p),u.appendChild(p),l.placeholder=p}l.loading||Gt(l),a.allowProgressiveImg()&&(!Pt&&N.transform?Ut.push({item:l,baseDiv:u,img:l.img,index:t,holder:e}):Yt(0,l,u,l.img,0,!0))}Pt||t!==c?Oe(l):(te=u.style,Wt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(u)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Jt,Qt,en={},tn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};be("Tap",{publicMethods:{initTap:function(){_e("firstTouchStart",a.onTapStart),_e("touchRelease",a.onTapRelease),_e("destroy",function(){en={},Jt=null})},onTapStart:function(e){e.length>1&&(clearTimeout(Jt),Jt=null)},onTapRelease:function(e,t){if(t&&!G&&!q&&!qe){var n=t;if(Jt&&(clearTimeout(Jt),Jt=null,i=n,a=en,Math.abs(i.x-a.x)<25&&Math.abs(i.y-a.y)<25))return void Te("doubleTap",n);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);ze(en,n),Jt=setTimeout(function(){tn(e,t),Jt=null},300)}var i,a}}}),be("DesktopZoom",{publicMethods:{initDesktopZoom:function(){R||(O?_e("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Qt={};var n="wheel mousewheel DOMMouseScroll";_e("bindEvents",function(){o.bind(e,n,a.handleMouseWheel)}),_e("unbindEvents",function(){Qt&&o.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var i,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),v<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};_e("resize",r),_e("afterChange",r),_e("pointerDown",function(){a.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))}),_e("pointerUp",s),t||r()},handleMouseWheel:function(e){if(v<=a.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||qe||B?e.preventDefault():S&&Math.abs(e.deltaY)>2&&(u=!0,a.close())),!0;if(e.stopPropagation(),Qt.x=0,"deltaX"in e)1===e.deltaMode?(Qt.x=18*e.deltaX,Qt.y=18*e.deltaY):(Qt.x=e.deltaX,Qt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Qt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Qt.y=-.16*e.wheelDeltaY:Qt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Qt.y=e.detail}Pe(v,!0);var t=de.x-Qt.x,n=de.y-Qt.y;(r.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:pe.x/2+fe.x,y:pe.y/2+fe.y};var n=r.getDoubleTapZoom(!0,a.currItem),i=v===n;a.mouseZoomedIn=!i,a.zoomTo(i?a.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,on,an,rn,sn,ln,un,cn,dn,pn,mn,fn,hn={history:!0,galleryUID:1},vn=function(){return mn.hash.substring(1)},gn=function(){nn&&clearTimeout(nn),an&&clearTimeout(an)},xn=function(){var e=vn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(r.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<Nt.length;n++)if(Nt[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},yn=function(){if(an&&clearTimeout(an),qe||B)an=setTimeout(yn,500);else{rn?clearTimeout(on):rn=!0;var e=c+1,t=$t(c);t.hasOwnProperty("pid")&&(e=t.pid);var n=un+"&gid="+r.galleryUID+"&pid="+e;cn||-1===mn.hash.indexOf(n)&&(pn=!0);var i=mn.href.split("#")[0]+"#"+n;fn?"#"+n!==window.location.hash&&history[cn?"replaceState":"pushState"]("",document.title,i):cn?mn.replace(i):mn.hash=n,cn=!0,on=setTimeout(function(){rn=!1},60)}};be("History",{publicMethods:{initHistory:function(){if(o.extend(r,hn,!0),r.history){mn=window.location,pn=!1,dn=!1,cn=!1,un=vn(),fn="pushState"in history,un.indexOf("gid=")>-1&&(un=(un=un.split("&gid=")[0]).split("?gid=")[0]),_e("afterChange",a.updateURL),_e("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){ln=!0,dn||(pn?history.back():un?mn.hash=un:fn?history.pushState("",document.title,mn.pathname+mn.search):mn.hash=""),gn()};_e("unbindEvents",function(){u&&e()}),_e("destroy",function(){ln||e()}),_e("firstUpdate",function(){c=xn().pid});var t=un.indexOf("pid=");t>-1&&"&"===(un=un.substring(0,t)).slice(-1)&&(un=un.slice(0,-1)),setTimeout(function(){s&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return vn()===un?(dn=!0,void a.close()):void(rn||(sn=!0,a.goTo(xn().pid),sn=!1))},updateURL:function(){gn(),sn||(cn?nn=setTimeout(yn,800):yn())}}}),o.extend(a,je)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var n,i,o,a,r,s,l,u,c,d,p,m,f,h,v,g,x=this,y=!1,w=!0,b={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(e){if(h)return!0;e=e||window.event,f.timeToIdle&&f.mouseUsed&&!l&&A();for(var n,i,o=(e.target||e.srcElement).getAttribute("class")||"",a=0;a<M.length;a++)(n=M[a]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),h=!0;var r=t.features.isOldAndroid?600:30;setTimeout(function(){h=!1},r)}},I=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},_=function(){var e=1===f.getNumItemsFn();e!==m&&(I(i,"ui--one-slide",e),m=e)},T=function(e){for(var n=0;n<f.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+f.closeElClasses[n]))return!0},E=0,A=function(){clearTimeout(g),E=0,l&&x.setIdle(!1)},S=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(g),g=setTimeout(function(){x.setIdle(!0)},f.timeToIdleOutside))},D=function(e){d!==e&&(I(c,"preloader--active",!e),d=e)},O=function(n){var r=n.vGap;if(!e.likelyTouchDevice||f.mouseUsed||screen.width>f.fitControlsWidth){var s=f.barsSize;if(f.captionEl&&"auto"===s.bottom)if(a||((a=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(a,o),t.addClass(i,"pswp__ui--fit")),f.addCaptionHTMLFn(n,a,!0)){var l=a.clientHeight;r.bottom=parseInt(l,10)||44}else r.bottom=s.top;else r.bottom="auto"===s.bottom?0:s.bottom;r.top=s.top}else r.top=r.bottom=0},M=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){c=e}}];x.init=function(){var r;t.extend(e.options,b,!0),f=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(u=e.listen)("onVerticalDrag",function(e){w&&e<.95?x.hideControls():!w&&e>=.95&&x.showControls()}),u("onPinchClose",function(e){w&&e<.9?(x.hideControls(),r=!0):r&&!w&&e>.9&&x.showControls()}),u("zoomGestureEnded",function(){(r=!1)&&!w&&x.showControls()}),u("beforeChange",x.update),u("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(f.getDoubleTapZoom(!1,e.currItem),t,333)}),u("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),u("bindEvents",function(){t.bind(i,"pswpTap click",C),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)}),u("unbindEvents",function(){v&&clearInterval(v),t.unbind(document,"mouseout",S),t.unbind(document,"mousemove",A),t.unbind(i,"pswpTap click",C),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),n&&(t.unbind(document,n.eventK,x.updateFullscreen),n.isFullscreen()&&(f.hideAnimationDuration=0,n.exit()),n=null)}),u("destroy",function(){f.captionEl&&(a&&i.removeChild(a),t.removeClass(o,"pswp__caption--empty")),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),x.setIdle(!1)}),f.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),u("initialZoomIn",function(){f.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),u("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),u("parseVerticalMargin",O),function(){var e,n,o,a=function(i){if(i)for(var a=i.length,r=0;r<a;r++){e=i[r],n=e.className;for(var s=0;s<M.length;s++)o=M[s],n.indexOf("pswp__"+o.name)>-1&&(f[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(i.children);var r=t.getChildByClass(i,"pswp__top-bar");r&&a(r.children)}(),_(),f.timeToIdle&&u("mouseUsed",function(){t.bind(document,"mousemove",A),t.bind(document,"mouseout",S),v=setInterval(function(){2==++E&&x.setIdle(!0)},f.timeToIdle/2)}),f.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=x.getFullscreenAPI()),n?(t.bind(document,n.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),f.preloaderEl&&(D(!0),u("beforeChange",function(){clearTimeout(p),p=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&D(!1):D(!0)},f.loadingIndicatorDelay)}),u("imageLoadComplete",function(t,n){e.currItem===n&&D(!0)}))},x.setIdle=function(e){l=e,I(i,"ui--idle",e)},x.update=function(){w&&e.currItem?(x.updateIndexIndicator(),f.captionEl&&(f.addCaptionHTMLFn(e.currItem,o),I(o,"caption--empty",!e.currItem.title)),y=!0):y=!1,_()},x.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},x.updateIndexIndicator=function(){f.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+f.indexIndicatorSep+f.getNumItemsFn())},x.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!h)if(n.detail&&"mouse"===n.detail.pointerType){if(T(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?f.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(f.tapToToggleControls&&(w?x.hideControls():x.showControls()),f.tapToClose&&(t.hasClass(i,"pswp__img")||T(i)))return void e.close()},x.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;I(i,"ui--over-close",T(t))},x.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),w=!1},x.showControls=function(){w=!0,y||x.update(),t.removeClass(i,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(s=f.closeOnScroll,f.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return f.closeOnScroll=s,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}});var initPhotoSwipeFromDOM=function(e){for(var t=function(e){e=e||window.event,$.stop(e);var t=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(e.target||e.srcElement,function(e){return e.tagName&&"a"===e.tagName.toLowerCase()});if(t){for(var i,o=t.parentNode,a=t.parentNode.childNodes,r=a.length,s=0,l=0;l<r;l++)if(1===a[l].nodeType){if(a[l]===t){i=s;break}s++}if(i>=0){var u=t.parentNode.querySelector("img");$(t.parentNode).hasClass("card-img")&&!$(u).hasClass("zoom-out")?($(u).addClass("zoom-out"),animCardImg("out",u),setTimeout(function(){n(i,o)},150)):n(i,o)}return!1}},n=function(e,t,n,i){var o,a,r,s=document.querySelectorAll(".pswp")[0];if(r=function(e){for(var t=e.childNodes,n=[],i=0;i<t.length;i++){var o=$(t[i]);if(1===o[0].nodeType){var a=o.attr("data-size").split("x"),r=$(o[0].children[0]),s={msrc:r.attr("src"),src:o.attr("href"),w:parseInt(a[0],10),h:parseInt(a[1],10),el:o[0],title:"<strong>"+r.attr("alt")+"</strong> <em>"+r.attr("data-caption")+"</em>"};n.push(s)}}return n}(t),a={history:!1,getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},i)if(a.galleryPIDs){for(var l=0;l<r.length;l++)if(r[l].pid==e){a.index=l;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(n&&(a.showAnimationDuration=0),(o=new PhotoSwipe(s,PhotoSwipeUI_Default,r,a)).init(),o.listen("initialZoomOut",function(){var e=o.currItem.el,t=e.querySelector("img");$(e.parentNode).hasClass("card-img")&&($(e.parentNode).removeClass("freeze"),$(t).removeClass("zoom-out"),t.src=e.href,setTimeout(function(){animCardImg("in",t)},o.options.showAnimationDuration))}))},i=document.querySelectorAll(e),o=0,a=i.length;o<a;o++)$(i[o]).attr("data-pswp-uid",o+1),i[o].onclick=t;var r=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();r.pid&&r.gid&&n(r.pid,i[r.gid-1],!0,!0)},initTabs=function(){$(".tabs-menu a, .tabs-link").on("click",function(e){$.stop(e),$(".tabs-menu .active").removeClass("active"),$(this).addClass("active"),$('.tabs-menu a[href="'+$(this).attr("href")+'"]').addClass("active"),$(".tabs > .active").removeClass("active"),$($(this).attr("href")).addClass("active")})};function getCardImgSizes(e){var t={},n=$(e.parentNode).attr("data-size")?$(e.parentNode).attr("data-size").split("x"):null;return t.w=e.offsetWidth?e.offsetWidth:parseInt(n[0],10),t.h=e.offsetHeight?e.offsetHeight:parseInt(n[1],10),t.nat_w=n?parseInt(n[0],10):e.naturalWidth,t.nat_h=n?parseInt(n[1],10):e.naturalHeight,t.div_w=e.parentNode.offsetWidth,t.div_h=e.parentNode.offsetHeight,t.flip=t.nat_w>t.nat_h&&t.nat_w/t.nat_h<t.div_w/t.div_h||t.nat_w<t.nat_h&&t.nat_w/t.nat_h>t.div_w/t.div_h,t.nat_w>t.nat_h&&!t.flip||t.nat_w<t.nat_h&&t.flip||t.nat_w===t.nat_h&&t.div_w<=t.div_h?(t.zin_w=t.nat_w*t.div_h/t.nat_h,t.zin_h=t.div_h,t.zout_w=t.div_w,t.zout_h=t.nat_h*t.zout_w/t.nat_w,t.side="h"):(t.zin_h=t.nat_h*t.div_w/t.nat_w,t.zin_w=t.div_w,t.zout_h=t.div_h,t.zout_w=t.nat_w*t.zout_h/t.nat_h,t.side="w"),t}var cardAnims={};function animCardImg(e,t){if(t in cardAnims&&!cardAnims[t].anime.completed)return cardAnims[t].anime.play(),void cardAnims[t].anime.reverse();var n=getCardImgSizes(t);function i(e,t){if(t)if(e.style.width="",e.style.height="",$(e).hasClass("zoom-out"))e.style.maxWidth="100%",e.style.maxHeight="100%";else{e.style.maxWidth="none",e.style.maxHeight="none";var n=e.offsetWidth,i=e.offsetHeight,o=e.parentNode.offsetWidth,a=e.parentNode.offsetHeight,r=n>i&&n/i<o/a||n<i&&n/i>o/a;n>i&&!r||n<i&&r||n===i&&o<a?e.style.height="100%":e.style.width="100%"}else e.style.width=e.offsetWidth,e.style.height=e.offsetHeight,e.style.maxWidth="none",e.style.maxHeight="none"}cardAnims[t]={anime:anime({targets:t,width:"out"===e?[n.w+"px",n.zout_w+"px"]:[n.w+"px",n.zin_w+"px"],height:"out"===e?[n.h+"px",n.zout_h+"px"]:[n.h+"px",n.zin_h+"px"],duration:100,easing:"easeInCubic",begin:function(e){i(e.animatables[0].target,!1)},complete:function(e){i(e.animatables[0].target,!0)}})}}var data_folder="/assets/media/indie/",p={xs:"thumb-xs/",s:"thumb/",m:"thumb/",l:"thumb-2x/",f:"full/"};function fillImgContainers(e,t){for(var n=data_folder+t+"/",i=$(".ps-img:not(.prefilled)"),o=0;o<i.length;o++){for(var a=$(i[o]).hasClass("full"),r=document.createDocumentFragment(),s=0;s<e[o].length;s++){var l=$(document.createElement("a")),u=e[o][s],c=u.img.includes(".gif");l.attr("href",n+(c?"":p.f)+u.img),l.attr("data-size",u.size),l.attr("id",u.img.split(".").slice(0,-1).join("."));var d=$(document.createElement("img"));d.addClass("b-lazy"),a?(d.addClass("img-single"),d.attr("data-src",n+(c?"":p.f)+u.img)):c?d.attr("data-src",n+u.img):(d.attr("data-src-s",n+p.s+u.img),d.attr("data-src",n+p.m+u.img+"|"+n+p.l+u.img)),d.attr("src",n+(a?p.s:p.xs)+u.img.replace(".gif",".jpg")),d.attr("alt",u.title||""),d.attr("data-caption",u.cap||""),l[0].appendChild(d[0]),r.appendChild(l[0])}i[o].appendChild(r)}}function addTags(){var e=$("[data-page]").attr("data-page");"gallery"===e&&(e=$(".fullpage").attr("id"));for(var t=p_cache.work[e].tags.split(", "),n=0;n<t.length;n++){var i=$(document.createElement("a"));i.attr("href","/search/?k="+t[n].toLowerCase()+"/"),i.text(t[n]),$(".footer-tags")[0].appendChild(i[0])}}function cardImgPrep(){$(".card-img img").each(function(e){"h"===getCardImgSizes(e).side?e.style.height="100%":e.style.width="100%"}),$(".card-img").on("click",function(){$(this).addClass("freeze")}),$(".card-img").on("mouseenter",function(){if(!$("html").hasClass("no-hover")){var e=this;setTimeout(function(){if(!$(e).hasClass("freeze")){var t=e.querySelector("img");$(t).addClass("zoom-out"),animCardImg("out",t)}},5)}}),$(".card-img").on("mouseleave",function(){if(!$("html").hasClass("no-hover")){var e=this;setTimeout(function(){if(!$(e).hasClass("freeze")){var t=e.querySelector("img");$(t).removeClass("zoom-out"),animCardImg("in",t)}},5)}})}function initIndiePage(e,t){fillImgContainers(e,t),blazy.revalidate(),setTimeout(function(){blazy.revalidate()},50),initPhotoSwipeFromDOM(".ps-img"),$(".ps-trigger").on("click",function(e){$.stop(e),simulateClick($("#"+$(this).attr("data-target"))[0])}),p_cache?addTags():p_cache_callbacks.push(addTags),cardImgPrep()}var p_cache,p_cache_callbacks=[];!function(){void 0===p_cache&&getFile(project_data_url,function(e,t){if(t)return alert(t);p_cache=JSON.parse(e);for(var n=0;n<p_cache_callbacks.length;n++)p_cache_callbacks[n]()})}();